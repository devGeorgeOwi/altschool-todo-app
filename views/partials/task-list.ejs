<% if (tasks.length === 0) { %>
    <div class="text-center text-muted py-4">
        <p>No tasks found. Add your first task!</p>
    </div>
<% } else { %>
    <div class="list-group">
        <% tasks.forEach(task => { %>
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div class="task-content">
                    <h6 class="mb-1">
                        <%= task.title %>
                        <% if (task.priority === 'high') { %>
                            <span class="badge bg-danger ms-2">High</span>
                        <% } else if (task.priority === 'medium') { %>
                            <span class="badge bg-warning ms-2">Medium</span>
                        <% } else { %>
                            <span class="badge bg-secondary ms-2">Low</span>
                        <% } %>
                    </h6>
                    <% if (task.description) { %>
                        <p class="mb-1 text-muted small"><%= task.description %></p>
                    <% } %>
                    <small class="text-muted">
                        Created: <%= new Date(task.createdAt).toLocaleDateString() %>
                    </small>
                </div>
                <div class="btn-group">
                    <% if (task.status === 'pending') { %>
                        <button class="btn btn-sm btn-outline-success mark-complete" 
                                data-id="<%= task._id %>">✓ Complete</button>
                    <% } else { %>
                        <button class="btn btn-sm btn-outline-warning mark-pending" 
                                data-id="<%= task._id %>">↺ Pending</button>
                    <% } %>
                    <button class="btn btn-sm btn-outline-danger delete-task" 
                            data-id="<%= task._id %>">✗ Delete</button>
                </div>
            </div>
        <% }) %>
    </div>
<% } %>